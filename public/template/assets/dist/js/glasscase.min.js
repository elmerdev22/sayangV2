window.Modernizr=function(t,e,i){function s(t){p.cssText=t}function o(t,e){return typeof t===e}function n(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var s in t){var o=t[s];if(!n(o,"-")&&p[o]!==i)return"pfx"!=e||o}return!1}function c(t,e,s){for(var n in t){var a=e[t[n]];if(a!==i)return!1===s?t[n]:o(a,"function")?a.bind(s||e):a}return!1}function r(t,e,i){var s=t.charAt(0).toUpperCase()+t.slice(1),n=(t+" "+D.join(s+" ")+s).split(" ");return o(e,"string")||o(e,"undefined")?a(n,e):c(n=(t+" "+w.join(s+" ")+s).split(" "),e,i)}var h,l,g={},u=e.documentElement,m="modernizr",d=e.createElement(m),p=d.style,f=e.createElement("input"),v=":)",y={}.toString,b=" -webkit- -moz- -o- -ms- ".split(" "),T="Webkit Moz O ms",D=T.split(" "),w=T.toLowerCase().split(" "),C="http://www.w3.org/2000/svg",L={},A={},x={},P=[],O=P.slice,I=function(t,i,s,o){var n,a,c,r,h=e.createElement("div"),l=e.body,g=l||e.createElement("body");if(parseInt(s,10))for(;s--;)(c=e.createElement("div")).id=o?o[s]:m+(s+1),h.appendChild(c);return n=["Â­",'<style id="s',m,'">',t,"</style>"].join(""),h.id=m,(l?h:g).innerHTML+=n,g.appendChild(h),l||(g.style.background="",g.style.overflow="hidden",r=u.style.overflow,u.style.overflow="hidden",u.appendChild(g)),a=i(h,t),l?h.parentNode.removeChild(h):(g.parentNode.removeChild(g),u.style.overflow=r),!!a},S=function(){var t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(s,n){n=n||e.createElement(t[s]||"div");var a=(s="on"+s)in n;return a||(n.setAttribute||(n=e.createElement("div")),n.setAttribute&&n.removeAttribute&&(n.setAttribute(s,""),a=o(n[s],"function"),o(n[s],"undefined")||(n[s]=i),n.removeAttribute(s))),n=null,a}}(),Z={}.hasOwnProperty;for(var E in l=o(Z,"undefined")||o(Z.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return Z.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=O.call(arguments,1),s=function(){if(this instanceof s){var o=function(){};o.prototype=e.prototype;var n=new o,a=e.apply(n,i.concat(O.call(arguments)));return Object(a)===a?a:n}return e.apply(t,i.concat(O.call(arguments)))};return s}),L.flexbox=function(){return r("flexWrap")},L.flexboxlegacy=function(){return r("boxDirection")},L.canvas=function(){var t=e.createElement("canvas");return!!t.getContext&&!!t.getContext("2d")},L.canvastext=function(){return!!g.canvas&&!!o(e.createElement("canvas").getContext("2d").fillText,"function")},L.webgl=function(){return!!t.WebGLRenderingContext},L.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:I(["@media (",b.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i},L.geolocation=function(){return"geolocation"in navigator},L.postmessage=function(){return!!t.postMessage},L.websqldatabase=function(){return!!t.openDatabase},L.indexedDB=function(){return!!r("indexedDB",t)},L.hashchange=function(){return S("hashchange",t)&&(e.documentMode===i||e.documentMode>7)},L.history=function(){return!!t.history&&!!history.pushState},L.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},L.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},L.rgba=function(){return s("background-color:rgba(150,255,150,.5)"),n(p.backgroundColor,"rgba")},L.hsla=function(){return s("background-color:hsla(120,40%,100%,.5)"),n(p.backgroundColor,"rgba")||n(p.backgroundColor,"hsla")},L.multiplebgs=function(){return s("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(p.background)},L.backgroundsize=function(){return r("backgroundSize")},L.borderimage=function(){return r("borderImage")},L.borderradius=function(){return r("borderRadius")},L.boxshadow=function(){return r("boxShadow")},L.textshadow=function(){return""===e.createElement("div").style.textShadow},L.opacity=function(){return t="opacity:1",s(b.join(t+";")+(e||"")),/^0.55$/.test(p.opacity);var t,e},L.cssanimations=function(){return r("animationName")},L.csscolumns=function(){return r("columnCount")},L.cssgradients=function(){var t="background-image:";return s((t+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+t)+b.join("linear-gradient(left top,#9f9, white);"+t)).slice(0,-t.length)),n(p.backgroundImage,"gradient")},L.cssreflections=function(){return r("boxReflect")},L.csstransforms=function(){return!!r("transform")},L.csstransforms3d=function(){var t=!!r("perspective");return t&&"webkitPerspective"in u.style&&I("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,i){t=9===e.offsetLeft&&3===e.offsetHeight}),t},L.csstransitions=function(){return r("transition")},L.fontface=function(){var t;return I('@font-face {font-family:"font";src:url("https://")}',function(i,s){var o=e.getElementById("smodernizr"),n=o.sheet||o.styleSheet,a=n?n.cssRules&&n.cssRules[0]?n.cssRules[0].cssText:n.cssText||"":"";t=/src/i.test(a)&&0===a.indexOf(s.split(" ")[0])}),t},L.generatedcontent=function(){var t;return I(["#",m,"{font:0/0 a}#",m,':after{content:"',v,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},L.video=function(){var t=e.createElement("video"),i=!1;try{(i=!!t.canPlayType)&&((i=new Boolean(i)).ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return i},L.audio=function(){var t=e.createElement("audio"),i=!1;try{(i=!!t.canPlayType)&&((i=new Boolean(i)).ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return i},L.localstorage=function(){try{return localStorage.setItem(m,m),localStorage.removeItem(m),!0}catch(t){return!1}},L.sessionstorage=function(){try{return sessionStorage.setItem(m,m),sessionStorage.removeItem(m),!0}catch(t){return!1}},L.webworkers=function(){return!!t.Worker},L.applicationcache=function(){return!!t.applicationCache},L.svg=function(){return!!e.createElementNS&&!!e.createElementNS(C,"svg").createSVGRect},L.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==C},L.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(y.call(e.createElementNS(C,"animate")))},L.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(y.call(e.createElementNS(C,"clipPath")))},L)l(L,E)&&(h=E.toLowerCase(),g[h]=L[E](),P.push((g[h]?"":"no-")+h));return g.input||(g.input=function(i){for(var s=0,o=i.length;s<o;s++)x[i[s]]=i[s]in f;return x.list&&(x.list=!!e.createElement("datalist")&&!!t.HTMLDataListElement),x}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),g.inputtypes=function(t){for(var s,o,n,a=0,c=t.length;a<c;a++)f.setAttribute("type",o=t[a]),(s="text"!==f.type)&&(f.value=v,f.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&f.style.WebkitAppearance!==i?(u.appendChild(f),s=(n=e.defaultView).getComputedStyle&&"textfield"!==n.getComputedStyle(f,null).WebkitAppearance&&0!==f.offsetHeight,u.removeChild(f)):/^(search|tel)$/.test(o)||(s=/^(url|email)$/.test(o)?f.checkValidity&&!1===f.checkValidity():f.value!=v)),A[t[a]]=!!s;return A}("search tel url email datetime date month week time datetime-local number range color".split(" "))),g.addTest=function(t,e){if("object"==typeof t)for(var s in t)l(t,s)&&g.addTest(s,t[s]);else{if(t=t.toLowerCase(),g[t]!==i)return g;e="function"==typeof e?e():e,u.className+=" "+(e?"":"no-")+t,g[t]=e}return g},s(""),d=f=null,function(t,e){function i(){var t=d.elements;return"string"==typeof t?t.split(" "):t}function s(t){var e=m[t[g]];return e||(e={},u++,t[g]=u,m[u]=e),e}function o(t,i,o){return i||(i=e),c?i.createElement(t):(o||(o=s(i)),!(n=o.cache[t]?o.cache[t].cloneNode():l.test(t)?(o.cache[t]=o.createElem(t)).cloneNode():o.createElem(t)).canHaveChildren||h.test(t)||n.tagUrn?n:o.frag.appendChild(n));var n}function n(t){t||(t=e);var n=s(t);return d.shivCSS&&!a&&!n.hasCSS&&(n.hasCSS=!!function(t,e){var i=t.createElement("p"),s=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",s.insertBefore(i.lastChild,s.firstChild)}(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||function(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return d.shivMethods?o(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(d,e.frag)}(t,n),t}var a,c,r=t.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,l=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",u=0,m={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",a="hidden"in t,c=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){a=!0,c=!0}}();var d={elements:r.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==r.shivCSS,supportsUnknownElements:c,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:n,createElement:o,createDocumentFragment:function(t,o){if(t||(t=e),c)return t.createDocumentFragment();for(var n=(o=o||s(t)).frag.cloneNode(),a=0,r=i(),h=r.length;a<h;a++)n.createElement(r[a]);return n}};t.html5=d,n(e)}(this,e),g._version="2.8.3",g._prefixes=b,g._domPrefixes=w,g._cssomPrefixes=D,g.hasEvent=S,g.testProp=function(t){return a([t])},g.testAllProps=r,g.testStyles=I,u.className=u.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+P.join(" "),g}(this,this.document),function(t,e,i){function s(t){return"[object Function]"==f.call(t)}function o(t){return"string"==typeof t}function n(){}function a(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function c(){var t=v.shift();y=1,t?t.t?d(function(){("c"==t.t?u.injectCss:u.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),c()):y=0}function r(t,i,s,o,n,r,h){function l(e){if(!m&&a(g.readyState)&&(b.r=m=1,!y&&c(),g.onload=g.onreadystatechange=null,e))for(var s in"img"!=t&&d(function(){D.removeChild(g)},50),x[i])x[i].hasOwnProperty(s)&&x[i][s].onload()}h=h||u.errorTimeout;var g=e.createElement(t),m=0,f=0,b={t:s,s:i,e:n,a:r,x:h};1===x[i]&&(f=1,x[i]=[]),"object"==t?g.data=i:(g.src=i,g.type=t),g.width=g.height="0",g.onerror=g.onload=g.onreadystatechange=function(){l.call(this,f)},v.splice(o,0,b),"img"!=t&&(f||2===x[i]?(D.insertBefore(g,T?null:p),d(l,h)):x[i].push(g))}function h(t,e,i,s,n){return y=0,e=e||"j",o(t)?r("c"==e?C:w,t,e,this.i++,i,s,n):(v.splice(this.i++,0,t),1==v.length&&c()),this}function l(){var t=u;return t.loader={load:h,i:0},t}var g,u,m=e.documentElement,d=t.setTimeout,p=e.getElementsByTagName("script")[0],f={}.toString,v=[],y=0,b="MozAppearance"in m.style,T=b&&!!e.createRange().compareNode,D=T?m:p.parentNode,w=(m=t.opera&&"[object Opera]"==f.call(t.opera),m=!!e.attachEvent&&!m,b?"object":m?"script":"img"),C=m?"script":w,L=Array.isArray||function(t){return"[object Array]"==f.call(t)},A=[],x={},P={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};(u=function(t){function e(t,e,o,n,a){var c=function(t){t=t.split("!");var e,i,s,o=A.length,n=t.pop(),a=t.length;for(n={url:n,origUrl:n,prefixes:t},i=0;i<a;i++)s=t[i].split("="),(e=P[s.shift()])&&(n=e(n,s));for(i=0;i<o;i++)n=A[i](n);return n}(t),r=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(e&&(e=s(e)?e:e[t]||e[n]||e[t.split("/").pop().split("?")[0]]),c.instead?c.instead(t,e,o,n,a):(x[c.url]?c.noexec=!0:x[c.url]=1,o.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":i,c.noexec,c.attrs,c.timeout),(s(e)||s(r))&&o.load(function(){l(),e&&e(c.origUrl,a,n),r&&r(c.origUrl,a,n),x[c.url]=2})))}function a(t,i){function a(t,n){if(t){if(o(t))n||(g=function(){var t=[].slice.call(arguments);u.apply(this,t),m()}),e(t,g,i,0,h);else if(Object(t)===t)for(r in c=function(){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}(),t)t.hasOwnProperty(r)&&(!n&&!--c&&(s(g)?g=function(){var t=[].slice.call(arguments);u.apply(this,t),m()}:g[r]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),m()}}(u[r])),e(t[r],g,i,r,h))}else!n&&m()}var c,r,h=!!t.test,l=t.load||t.both,g=t.callback||n,u=g,m=t.complete||n;a(h?t.yep:t.nope,!!l),l&&a(l)}var c,r,h=this.yepnope.loader;if(o(t))e(t,0,h,0);else if(L(t))for(c=0;c<t.length;c++)o(r=t[c])?e(r,0,h,0):L(r)?u(r):Object(r)===r&&a(r,h);else Object(t)===t&&a(t,h)}).addPrefix=function(t,e){P[t]=e},u.addFilter=function(t){A.push(t)},u.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",g=function(){e.removeEventListener("DOMContentLoaded",g,0),e.readyState="complete"},0)),t.yepnope=l(),t.yepnope.executeStack=c,t.yepnope.injectJs=function(t,i,s,o,r,h){var l,g,m=e.createElement("script");o=o||u.errorTimeout;for(g in m.src=t,s)m.setAttribute(g,s[g]);i=h?c:i||n,m.onreadystatechange=m.onload=function(){!l&&a(m.readyState)&&(l=1,i(),m.onload=m.onreadystatechange=null)},d(function(){l||(l=1,i(1))},o),r?m.onload():p.parentNode.insertBefore(m,p)},t.yepnope.injectCss=function(t,i,s,o,a,r){var h;o=e.createElement("link"),i=r?c:i||n;for(h in o.href=t,o.rel="stylesheet",o.type="text/css",s)o.setAttribute(h,s[h]);a||(p.parentNode.insertBefore(o,p),d(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t,e,i,s){"use strict";var o=e.Modernizr;function n(t,e){this.element=t.wrap('<div class="glass-case"></div>').parent(),this.init(e)}n.defaults={widthDisplay:600,heightDisplay:534,isAutoScaleDisplay:!0,isAutoScaleHeight:!0,isDownloadEnabled:!0,downloadPosition:3,isShowAlwaysIcons:!1,speedHideIcons:3e3,mouseEnterDisplayCB:function(){},mouseLeaveDisplayCB:function(){},thumbsPosition:"bottom",nrThumbsPerRow:5,isThumbsOneRow:!0,isOneThumbShown:!1,firstThumbSelected:0,colorActiveThumb:-1,thumbsMargin:4,isHoverShowThumbs:!1,zoomPosition:"right",autoInnerZoom:!0,isZoomEnabled:!0,isSlowZoom:!1,speedSlowZoom:1200,isZoomDiffWH:!1,zoomWidth:0,zoomHeight:0,zoomAlignment:"displayImage",zoomMargin:4,isSlowLens:!1,speedSlowLens:600,isOverlayEnabled:!0,isOverlayFullImage:!1,speed:400,easing:"linear",isKeypressEnabled:!0,colorIcons:-1,colorLoading:-1,textImageNotLoaded:"NO IMAGE",isZCapEnabled:!0,capZType:"in",capZPos:"bottom",capZAlign:"center"},n.prototype={init:function(i){var s=this;s.config=t.extend(!0,{},n.defaults,i),s._options=i,s._defaults=n.defaults,s.iOS=!1;var a=e.navigator.platform;"iPad"!==a&&"iPhone"!==a&&"iPod"!==a||(s.iOS=!0),s.supportCanvas=o.canvas;var c,r="<div class='gc-display-area'><div class='gc-icon gc-icon-next text-center'><span class='fas fa-sm fa-chevron-right'></span></div><div class='gc-icon gc-icon-prev text-center'><span class='fas fa-sm fa-chevron-left'></span></div><div class='gc-display-container'><div class='gc-lens'></div><img class='gc-display-display' alt=' ' /></div></div>",h="right"==s.config.thumbsPosition||"left"==s.config.thumbsPosition?"-vt":"",l="<div class='gc-thumbs-area-prev'><div class='gc-icon gc-icon-prev text-center "+h+"'><span class='fas fa-sm fa-sm fa-chevron-left'></span></div></div><div class='gc-thumbs-area-next'><div class='gc-icon gc-icon-next text-center "+h+"'><span class='fas fa-sm fa-sm fa-chevron-right'></span></div></div>";if(s.widthDisplayPerc=100,"top"==s.config.thumbsPosition||"left"==s.config.thumbsPosition?s.element.append(r):s.element.prepend(r),s.element.prepend("<div class='gc-zoom'><div class='gc-zoom-container'><img alt=' ' /></div></div>").prepend("<div class='gc-overlay-area'><div class='gc-overlay-top-icons'><div class='gc-icon gc-icon-close text-center'><span class='fas fa-times fa-xs'></span></div><div class='gc-icon gc-icon-enlarge text-center'><span class='fas fa-search-plus fa-xs'></span></div><div class='gc-icon gc-icon-compress text-center'><span class='fas fa-search-minus fa-xs'></span></div></div><div class='gc-overlay-left-icons'><div class='gc-icon gc-icon-prev text-center'><span class='fas fa-chevron-left'></span></div></div><div class='gc-overlay-right-icons'><div class='gc-icon gc-icon-next text-center'><span class='fas fa-chevron-right'></span></div></div><div class='gc-overlay-gcontainer'><div class='gc-overlay-container'><div class='gc-overlay-container-display'><img class='gc-overlay-display' alt=' ' /></div></div></div></div>"),s.gcLoadingClass=1==o.csstransforms?"gc-loading3":"gc-loading",s.gcLoader=t("<div class='"+s.gcLoadingClass+"'></div>"),s.gcLoading=s.element.find("."+s.gcLoadingClass),-1!=s.config.colorLoading&&1==o.csstransforms){var g=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s.config.colorLoading);if(g){var u="rgba("+parseInt(g[1],16)+", "+parseInt(g[2],16)+", "+parseInt(g[3],16)+", ";s.gcLoader.css({"border-top-color":u+"0.2)","border-right-color":u+"0.2)","border-bottom-color":u+"0.2)","border-left-color":u+"1)"})}}if(s.gcImageData=[],s.gcDisplayArea=s.element.find(".gc-display-area"),s.gcDisplayContainer=s.gcDisplayArea.find(".gc-display-container"),s.gcDisplayDisplay=s.gcDisplayContainer.find(".gc-display-display"),s.gcLens=s.gcDisplayContainer.find(".gc-lens").hide(),s.gcDisplayDownload=s.gcDisplayArea.find(".gc-icon-download"),s.gcDisplayPrevious=s.gcDisplayArea.find(".gc-icon-prev"),s.gcDisplayNext=s.gcDisplayArea.find(".gc-icon-next"),s.gcZoom=s.element.find(".gc-zoom").hide(),s.gcZoomContainer=s.gcZoom.find(".gc-zoom-container"),s.gcZoomDisplay=s.gcZoomContainer.find("img"),s.gcOverlayArea=s.element.find(".gc-overlay-area").hide(),s.gcOverlayGContainer=s.gcOverlayArea.find(".gc-overlay-gcontainer"),s.gcOverlayContainer=s.gcOverlayArea.find(".gc-overlay-container"),s.gcOverlayContainerDisplay=s.gcOverlayContainer.find(".gc-overlay-container-display"),s.gcOverlayDisplay=s.gcOverlayContainer.find(".gc-overlay-display"),s.gcOverlayPrevious=s.gcOverlayArea.find(".gc-icon-prev"),s.gcOverlayNext=s.gcOverlayArea.find(".gc-icon-next"),s.gcOverlayClose=s.gcOverlayArea.find(".gc-icon-close"),s.gcOverlayEnlarge=s.gcOverlayArea.find(".gc-icon-enlarge").hide(),s.gcOverlayCompress=s.gcOverlayArea.find(".gc-icon-compress").hide(),s.gcThumbsUl=s.element.find("ul"),s.gcThumbsUl.wrap("<div class='gc-thumbs-area'></div>"),s.gcThumbsArea=s.element.find(".gc-thumbs-area"),s.gcThumbsArea.append(l),s.gcThumbsAreaPrevious=s.gcThumbsArea.find(".gc-thumbs-area-prev"),s.gcThumbsPrevious=s.gcThumbsAreaPrevious.find(".gc-icon-prev"+h),s.gcThumbsAreaNext=s.gcThumbsArea.find(".gc-thumbs-area-next"),s.gcThumbsNext=s.gcThumbsAreaNext.find(".gc-icon-next"+h),s.gcThumbsLi=s.gcThumbsUl.find("li"),s.gcThumbsLi.each(function(e){for(var i=t.trim(t(this).find("img").attr("src")),o=s.gcThumbsLi.find('img[src="'+i+'"]');o.length>1;)o.last().parent().remove(),s.gcThumbsLi=s.gcThumbsUl.find("li"),o=s.gcThumbsLi.find('img[src="'+i+'"]')}),s.gcThumbsLi=s.gcThumbsUl.find("li"),s.gcThumbsImg=s.gcThumbsLi.find("img"),s.gcThumbsImg.wrap('<div class="gc-li-display-container"></div>'),s.gcThumbsLiDiv=s.gcThumbsLi.find(".gc-li-display-container"),s.gcThumbsUl.removeClass("gc-start"),s.gcTotalThumbsImg=s.gcThumbsImg.length,!0===s.config.isZCapEnabled&&(s.gcCaption=t('<div class="gc-caption-container"><div></div></div>'),s.gcCaptionDisplay=s.gcCaption.find("div"),"inner"===s.config.zoomPosition&&(s.config.capZType="in"),c="gc-caption-"+s.config.capZType+s.config.capZPos,-1===t.inArray(c,["gc-caption-outtop","gc-caption-outbottom","gc-caption-intop","gc-caption-inbottom"])&&(c="gc-caption-"+s._defaults.capZType+s._defaults.capZPos),-1===t.inArray(s.config.capZAlign,["left","right","center"])?c+=" gc-alignment-"+s._defaults.capZAlign:c+=" gc-alignment-"+s.config.capZAlign,s.gcCaption.addClass(c).appendTo(s.gcZoom)),s.isMouseEventsOn=!1,s.isTouchMove=!1,s.mouseTimer=0,1!=s.config.isShowAlwaysIcons&&(s.gcDisplayDownload.hide(),s.gcDisplayPrevious.hide(),s.gcDisplayNext.hide()),s.isAutoInnerZooming=!1,"inner"==s.config.zoomPosition&&(s.config.isZoomDiffWH=!0,s.config.zoomWidth=0,s.config.zoomHeight=0),"left"==s.config.thumbsPosition||"right"==s.config.thumbsPosition?s.gcThumbsArea.addClass("gc-vt"):s.gcThumbsArea.addClass("gc-hz"),-1!=s.config.colorIcons&&s.element.find(".gc-icon").css("color",s.config.colorIcons),0==s.config.isDownloadEnabled||0==s.supportCanvas)s.gcDisplayDownload.addClass("gc-hide");else{var m={top:"",bottom:"",right:"",left:""},d="-"+s.gcDisplayArea.css("border-left-width");switch(s.config.downloadPosition){case 1:m.top=d,m.left=d;break;case 2:m.top=d,m.right=d;break;case 4:m.bottom=d,m.right=d;break;default:m.bottom=d,m.left=d}s.gcDisplayDownload.css(m)}0==isNaN(s.config.firstThumbSelected)&&parseFloat(s.config.firstThumbSelected)>-1&&parseFloat(s.config.firstThumbSelected)<=s.gcThumbsLi.length-1?s.current=s.config.firstThumbSelected:s.current=s._defaults.firstThumbSelected,s.currentSlide=Math.floor(s.current/s.config.nrThumbsPerRow),s.old=0,s.currentMousePos={x:-1,y:-1},s.resizeTimer=0,s.zooming=!1,s.newZoom={left:0,top:0},s.currentZoom={left:0,top:0},s.slowZoomTimer=0,s.newLens={left:0,top:0},s.currentLens={left:0,top:0},s.slowLensTimer=0;var p=s.gcThumbsLi.eq(s.current).find("img").attr("alt");void 0===p&&(p="image"),s.gcDisplayDisplay.attr("src",s.gcThumbsImg.eq(s.current).attr("src")).attr("alt",p),s.setup(),t.when(s.preloadImages()).done(function(){s.update(),s.initEvents()})},preloadImages:function(){var i=this,s=0,n=i.gcTotalThumbsImg;function a(t,e,i,s){this.width=t,this.height=e,this.isLoaded=i}return t.Deferred(function(c){i.gcThumbsImg.each(function(r){t("<img/>").on("load",function(){var e=new a(this.width,this.height,!0),o=i.gcThumbsLi.find("img[src*='"+t(this).attr("src")+"']").parents("li").index();i.gcImageData[o]=e,i.processThumbImage(o),++s===n&&c.resolve()}).on("error",function(){var r=i.gcThumbsLi.find("img[src*='"+t(this).attr("src")+"']").parents("li").index(),h=i.gcThumbsLi.width(),l=i.gcThumbsLi.height(),g=new a(h,l,!1);if(i.gcImageData[r]=g,this.onerror="",o.svg){var u=e.btoa("<svg xmlns='http://www.w3.org/2000/svg' width='"+h+"' height='"+l+"'><rect width='"+h+"' height='"+l+"' fill='#eee'/><text text-anchor='middle' x='"+h/2+"' y='"+l/2+"' style='fill:#aaa;font-weight:bold;font-size:8px;font-family:Arial,Helvetica,sans-serif;dominant-baseline:central'>"+i.config.textImageNotLoaded+"</text></svg>");i.gcThumbsImg.eq(r).attr("src","data:image/svg+xml;base64,"+u)}i.processThumbImage(r),++s===n&&c.resolve()}).attr("src",t(this).attr("src"))})}).promise()},processThumbImage:function(t){this.setupThumbImg(this.gcThumbsLi.eq(t),t),this.removeLoader(this.gcThumbsLi.eq(t)),this.gcThumbsLi.eq(t).find(".gc-li-display-container").removeClass("gc-hide"),this.current==t&&(this.removeLoader(this.gcDisplayArea),this.gcDisplayContainer.removeClass("gc-hide"),this.setupDisplayDisplay(),this.setupLens())},setup:function(){var t;if(("right"==this.config.thumbsPosition||"left"==this.config.thumbsPosition)&&0==this.config.isOneThumbShown&&this.gcThumbsLi.length>1){var e=parseFloat(this.gcThumbsLi.css("margin-bottom")),i=(parseFloat(this.config.heightDisplay)/this.config.nrThumbsPerRow-(this.config.nrThumbsPerRow-1)*e/this.config.nrThumbsPerRow)*(this.config.widthDisplay/this.config.heightDisplay)+this.config.thumbsMargin+parseFloat(this.config.widthDisplay);this.widthDisplayPerc=Math.round(100*this.config.widthDisplay/i),t=this.element.parent().width()>i?i:this.element.parent().width()}else t=this.element.parent().width()>this.config.widthDisplay?this.config.widthDisplay:this.element.parent().width();if(this.element.css({width:t}),this.setupDisplayArea(),0==this.config.isOneThumbShown&&1==this.gcTotalThumbsImg?(this.gcThumbsArea.outerHeight(0),this.gcThumbsArea.addClass("gc-hide"),this.config.isKeypressEnabled=!1):(this.config.isOneThumbShown=!0,this.setupThumbs()),1==this.gcTotalThumbsImg?(this.gcOverlayPrevious.addClass("gc-hide"),this.gcOverlayNext.addClass("gc-hide")):(this.gcOverlayPrevious.css("margin-top",-this.gcOverlayPrevious.outerHeight()/2),this.gcOverlayNext.css("margin-top",-this.gcOverlayNext.outerHeight()/2)),"top"==this.config.thumbsPosition||"bottom"==this.config.thumbsPosition){var s=0==this.config.isOneThumbShown?0:this.gcThumbsArea.outerHeight();this.element.css({height:s+this.gcDisplayArea.outerHeight()+parseFloat(this.config.thumbsMargin)})}else{var o=0==this.config.isOneThumbShown?0:this.gcThumbsArea.outerWidth();this.element.css({width:o+this.gcDisplayArea.outerWidth()+parseFloat(this.config.thumbsMargin)}),this.element.css({height:this.gcDisplayArea.outerHeight()})}},setupDisplayArea:function(){var t,e,i=this.config.widthDisplay,s=this.config.heightDisplay;this.gcDisplayArea.css({height:"0",width:"0"}),e=(t=this.widthDisplayPerc*this.element.outerWidth()/100)*(s/i),this.gcDisplayArea.css({height:Math.ceil(e),width:Math.ceil(t)}),this.gcDisplayPrevious.css("margin-top",-this.gcDisplayPrevious.outerHeight()/2),this.gcDisplayNext.css("margin-top",-this.gcDisplayNext.outerHeight()/2),1==this.gcTotalThumbsImg&&(this.gcDisplayPrevious.addClass("gc-hide"),this.gcDisplayNext.addClass("gc-hide")),this.gcDisplayContainer.addClass("gc-hide"),this.addLoader(this.gcDisplayArea)},setupDisplayDisplay:function(){this.gcDisplayContainer.css({width:"0",height:"0"}),this.gcDisplayContainer.css({width:this.gcDisplayArea.outerWidth(),height:this.gcDisplayArea.outerHeight()});var t,e,i,s=this.gcDisplayContainer.outerWidth()/this.gcImageData[this.current].width,o=this.gcDisplayContainer.outerHeight()/this.gcImageData[this.current].height;s<1||o<1?(!0===this.config.isZoomEnabled?this.isMouseEventsOn=!0:this.isMouseEventsOn=!1,e=(t=s<o?s:o)*this.gcImageData[this.current].width,i=t*this.gcImageData[this.current].height):(this.gcDisplayContainer.trigger("mouseleave.glasscase"),this.isMouseEventsOn=!1,e=this.gcImageData[this.current].width,i=this.gcImageData[this.current].height),this.gcDisplayDisplay.css({width:e,height:i}),this.gcDisplayContainer.css({width:e,height:i});var n=2*parseFloat(this.gcDisplayArea.css("border-left-width")),a=2*parseFloat(this.gcDisplayArea.css("padding-top")),c=this.gcDisplayContainer.outerWidth()/2*100/(this.gcDisplayArea.outerWidth()-n-a),r=this.gcDisplayContainer.outerHeight()/2*100/(this.gcDisplayArea.outerWidth()-n-a);this.gcDisplayContainer.css({"margin-left":"-"+c+"%","margin-top":"-"+r+"%"})},setupZoom:function(){this.gcZoomDisplay.attr("src",this.gcDisplayDisplay.attr("src")).attr("alt",this.gcDisplayDisplay.attr("alt")),"inner"!=this.config.zoomPosition&&(this.isAutoInnerZooming=!1,this.config=t.extend(!0,{},this._defaults,this._options),this.gcZoom.appendTo(this.element).removeClass("gc-zoom-inner"));for(var i=2*parseFloat(this.gcZoom.css("border-left-width")),s=2*parseFloat(this.gcDisplayArea.css("padding-top")),o="inner"==this.config.zoomPosition?s:i+s,n="inner"==this.config.zoomPosition?s:i+s,a=0;a<2&&(this.config.isZoomDiffWH&&this.config.zoomWidth>0?o+=parseFloat(this.config.zoomWidth)<this.gcImageData[this.current].width?parseFloat(this.config.zoomWidth):this.gcImageData[this.current].width:o+=this.gcDisplayContainer.outerWidth(),this.config.isZoomDiffWH&&this.config.zoomHeight>0?n+=parseFloat(this.config.zoomHeight)<this.gcImageData[this.current].height?parseFloat(this.config.zoomHeight):this.gcImageData[this.current].height:n+=this.gcDisplayContainer.outerHeight(),0==this.config.isZoomDiffWH&&(o=n),1==this.config.autoInnerZoom&&"inner"!=this.config.zoomPosition)&&this.element.outerWidth()+o>t(e).width()&&(this.isAutoInnerZooming=!0,this.config.isZoomDiffWH=!0,this.config.zoomWidth=0,this.config.zoomHeight=0,0==a&&(o=n=s),"inner"!=this.config.zoomPosition);a++);if(this.gcZoomContainer.css({width:0,height:0}),this.gcZoom.css({width:o,height:n}),this.gcZoomContainer.css({width:this.gcZoom.outerWidth(),height:this.gcZoom.outerHeight()}),!0===this.config.isZCapEnabled){var c,r=t(this.gcThumbsImg[this.current]).data("gc-caption");void 0===r?this.gcCaption.hide():(this.gcCaption.show(),this.gcCaptionDisplay.empty().append(r)),!0===this.isAutoInnerZooming?"out"===this.config.capZType&&(this.gcCaption.removeClass("gc-caption-outtop gc-caption-outbottom"),c="top"===this.config.capZPos?"gc-caption-intop":"gc-caption-inbottom",this.gcCaption.addClass(c)):"out"===this.config.capZType&&(this.gcCaption.hasClass("gc-caption-intop")||this.gcCaption.hasClass("gc-caption-inbottom"))&&(this.gcCaption.removeClass("gc-caption-intop gc-caption-inbottom"),c="top"===this.config.capZPos?"gc-caption-outtop":"gc-caption-outbottom",this.gcCaption.addClass(c))}},setupZoomPos:function(){if("inner"==this.config.zoomPosition||1==this.isAutoInnerZooming)this.gcZoom.appendTo(this.gcDisplayContainer).addClass("gc-zoom-inner");else{this.gcZoom.appendTo(this.element).removeClass("gc-zoom-inner"),"left"==this.config.zoomPosition?this.gcZoom.css({right:this.element.outerWidth(!0),"margin-right":this.config.zoomMargin+"px"}):this.gcZoom.css({left:this.element.outerWidth(!0),"margin-left":this.config.zoomMargin+"px"});var t="displayArea"==this.config.zoomAlignment?0:this.gcDisplayContainer.position().top+parseFloat(this.gcDisplayContainer.css("margin-top"))-parseFloat(this.gcDisplayArea.css("padding-top"));if("top"==this.config.thumbsPosition){var e=this.gcThumbsArea.outerHeight()+parseFloat(this.config.thumbsMargin);this.gcZoom.css({top:t+e})}else this.gcZoom.css({top:t})}},setupLens:function(){var t=Math.round(this.gcZoomContainer.outerWidth()/this.gcImageData[this.current].width*100),e=Math.round(this.gcDisplayDisplay.outerWidth()*t/100),i=Math.round(this.gcZoomContainer.outerHeight()/this.gcImageData[this.current].height*100),s=Math.round(this.gcDisplayDisplay.outerHeight()*i/100);this.gcLens.css({width:e,height:s}),this.mousemoveHandler()},addLoader:function(e){t(e).prepend(this.gcLoader.clone())},removeLoader:function(e){var i=t(e).find("."+this.gcLoadingClass);i.length&&i.remove()},setupThumbImg:function(e,i){var s,o=this.gcThumbsLi.outerWidth(),n=this.gcThumbsLi.outerHeight(),a=(t(e),o/this.gcImageData[i].width),c=n/this.gcImageData[i].height;s=a>c?a:c,this.gcThumbsImg[i].width=Math.ceil(this.gcImageData[i].width*s,10),this.gcThumbsImg[i].height=Math.ceil(this.gcImageData[i].height*s,10);var r=this.gcThumbsImg.eq(i).outerWidth()/2*100/this.gcThumbsLiDiv.outerWidth(),h=this.gcThumbsImg.eq(i).outerHeight()/2*100/this.gcThumbsLiDiv.outerWidth();this.gcThumbsImg.eq(i).css({"margin-top":"-"+h+"%","margin-left":"-"+r+"%"}),this.gcThumbsLiDiv.eq(i).removeClass("gc-hide"),this.removeLoader(this.gcThumbsLi.eq(i)),this.gcThumbsLiDiv.eq(i).removeClass("gc-hide"),this.removeLoader(this.gcThumbsLi.eq(i))},setupThumbs:function(){"right"==this.config.thumbsPosition&&(this.setupThumbsLR(),this.gcDisplayArea.css({top:"0",left:"0"}),this.gcThumbsArea.css({top:"0",left:this.gcDisplayArea.outerWidth()+parseFloat(this.config.thumbsMargin)})),"left"==this.config.thumbsPosition&&(this.setupThumbsLR(),this.gcThumbsArea.css({top:"0",left:"0"}),this.gcDisplayArea.css({top:"0",left:this.gcThumbsArea.outerWidth()+parseFloat(this.config.thumbsMargin)})),"bottom"==this.config.thumbsPosition&&(this.setupThumbsTB(),this.gcDisplayArea.css({top:"0",left:"0"}),this.gcThumbsArea.css({top:this.gcDisplayArea.outerHeight()+parseFloat(this.config.thumbsMargin),left:"0"})),"top"==this.config.thumbsPosition&&(this.setupThumbsTB(),this.gcThumbsArea.css({top:"0",left:"0"}),this.gcDisplayArea.css({top:this.gcThumbsArea.outerHeight()+parseFloat(this.config.thumbsMargin),left:"0"}))},setupThumbsTB:function(){this.gcThumbsArea.css("width",this.gcDisplayArea.outerWidth());var t,e=parseFloat(this.gcThumbsLi.css("margin-right")),i=this.config.widthDisplay/this.config.heightDisplay,s=this.gcThumbsArea.outerWidth()/this.config.nrThumbsPerRow-(this.config.nrThumbsPerRow-1)*e/this.config.nrThumbsPerRow,o=s/i;t=1==this.config.isThumbsOneRow?100*s/((s+e)*this.gcThumbsLi.length-e):100*s/this.gcThumbsArea.outerWidth(),this.gcThumbsLi.css({width:t+"%",height:o}),this.gcThumbsLiDiv.addClass("gc-hide");for(var n=0;n<this.gcThumbsLi.length;n++)this.addLoader(this.gcThumbsLi[n]);if(1==this.config.isThumbsOneRow?this.gcThumbsLi.last().css("margin-right",0):(this.gcThumbsUl.find(":nth-child("+this.config.nrThumbsPerRow+"n)").css("margin-right",0),this.gcThumbsUl.find(":nth-child(n +"+(parseFloat(this.config.nrThumbsPerRow)+1)+")").css("margin-top",e+"px")),1==this.config.isThumbsOneRow)this.gcThumbsUl.css({width:Math.ceil(s*this.gcThumbsLi.length+(this.gcThumbsLi.length-1)*e),height:Math.ceil(o)}),this.gcThumbsArea.css("height",Math.ceil(o));else{var a=Math.ceil(this.gcThumbsLi.length/this.config.nrThumbsPerRow),c=Math.ceil(o*a+e*(a-1));this.gcThumbsUl.css({width:this.gcThumbsArea.outerWidth(),height:c}),this.gcThumbsArea.css("height",c)}if(1==this.config.isThumbsOneRow?(this.gcThumbsAreaPrevious.removeClass("gc-hide"),this.gcThumbsPrevious.css("margin-top",-this.gcThumbsPrevious.outerHeight()/2),this.gcThumbsAreaNext.removeClass("gc-hide"),this.gcThumbsNext.css("margin-top",-this.gcThumbsNext.outerHeight()/2),this.setupSlider()):(this.gcThumbsAreaPrevious.addClass("gc-hide"),this.gcThumbsAreaNext.addClass("gc-hide")),this.iOS){var r=this.gcThumbsLi.outerWidth(),h=this.gcThumbsArea.outerWidth()-(r*this.config.nrThumbsPerRow+(this.config.nrThumbsPerRow-1)*e);this.gcThumbsUl.find(":nth-child("+this.config.nrThumbsPerRow+"n)").css("width",r+h)}},setupThumbsLR:function(){this.gcThumbsArea.css("height",this.gcDisplayArea.outerHeight());var t,e=parseFloat(this.gcThumbsLi.css("margin-bottom")),i=this.config.widthDisplay/this.config.heightDisplay,s=this.gcThumbsArea.outerHeight()/this.config.nrThumbsPerRow-(this.config.nrThumbsPerRow-1)*e/this.config.nrThumbsPerRow,o=s*i;t=100*s/((s+e)*this.gcThumbsLi.length-e),this.gcThumbsLi.css({width:o,height:t+"%"}),this.gcThumbsLiDiv.addClass("gc-hide");for(var n=0;n<this.gcThumbsLi.length;n++)this.addLoader(this.gcThumbsLi[n]);if(this.gcThumbsLi.last().css("margin-bottom",0),this.gcThumbsUl.css({width:Math.ceil(o),height:Math.ceil((s+e)*this.gcThumbsLi.length-e)}),this.gcThumbsArea.css("width",Math.ceil(o)),this.gcThumbsAreaPrevious.removeClass("gc-hide"),this.gcThumbsPrevious.css("margin-left",-this.gcThumbsPrevious.outerWidth()/2),this.gcThumbsAreaNext.removeClass("gc-hide"),this.gcThumbsNext.css("margin-left",-this.gcThumbsNext.outerWidth()/2),this.setupSlider(),this.iOS){var a=this.gcThumbsLi.outerHeight(),c=this.gcThumbsArea.outerHeight()-(a*this.config.nrThumbsPerRow+(this.config.nrThumbsPerRow-1)*e);this.gcThumbsUl.find(":nth-child("+this.config.nrThumbsPerRow+"n)").css("height",a+c)}},setupSlider:function(){if(this.gcTotalThumbsImg<=this.config.nrThumbsPerRow)return this.gcThumbsAreaPrevious.addClass("gc-hide"),void this.gcThumbsAreaNext.addClass("gc-hide");this.gcThumbsAreaPrevious.removeClass("gc-disabled"),this.gcThumbsAreaNext.removeClass("gc-disabled"),0==this.currentSlide&&this.gcThumbsAreaPrevious.addClass("gc-disabled"),this.currentSlide==Math.floor((this.gcThumbsLi.length-1)/this.config.nrThumbsPerRow)&&this.gcThumbsAreaNext.addClass("gc-disabled")},update:function(){var t;-1!=this.config.colorActiveThumb&&this.element.find(".gc-active").css("border-color",""),this.gcThumbsLi.removeClass("gc-active").eq(this.current).addClass("gc-active"),-1!=this.config.colorActiveThumb&&this.element.find(".gc-active").css("border-color",this.config.colorActiveThumb),void 0===(t=this.gcThumbsLi.eq(this.current).find("img").attr("alt"))&&(t="image"),this.gcDisplayDisplay.attr("src",this.gcThumbsLi.eq(this.current).find("img").attr("src")).attr("alt",t),this.setupDisplayDisplay(),this.setupZoom(),this.setupLens(),this.setupZoomPos()},animateImage:function(){var e=this;e.gcDisplayDisplay.stop(!0).animate({opacity:1},200,function(){t("body").hasClass("gc-noscroll")&&e.gcOverlayDisplay.animate({opacity:0},200,function(){e.update(),e.setupOverlay(),e.gcOverlayDisplay.animate({opacity:1},500)}),t("body").hasClass("gc-noscroll")||e.update(),e.gcDisplayDisplay.animate({opacity:1},500,function(){e.gcZoomDisplay.attr("src",e.gcDisplayDisplay.attr("src")).attr("alt",e.gcDisplayDisplay.attr("alt"))})})},nextImage:function(){this.old=this.current,this.current=this.current==this.gcThumbsLi.length-1?0:this.current+1,this.slide("true",""),this.animateImage()},previousImage:function(){this.old=this.current,this.current=0==this.current?this.gcThumbsLi.length-1:this.current-1,this.slide("true",""),this.animateImage()},slide:function(e,i){if(0!=this.config.isThumbsOneRow||"bottom"!=this.config.thumbsPosition&&"top"!=this.config.thumbsPosition){var s,o=0;if("true"==e?o=Math.floor(this.current/this.config.nrThumbsPerRow):"previous"==i?(o=0,this.currentSlide>0&&(o=this.currentSlide-1)):(o=Math.floor((this.gcThumbsLi.length-1)/this.config.nrThumbsPerRow),this.currentSlide<o&&(o=this.currentSlide+1)),o!=this.currentSlide)this.currentSlide=o,"bottom"==this.config.thumbsPosition||"top"==this.config.thumbsPosition?(s=this.gcThumbsArea.outerWidth()+parseFloat(this.gcThumbsLi.css("margin-right")),this.gcThumbsUl.animate({left:-o*s+"px"},this.config.speed)):(s=this.gcThumbsArea.outerHeight()+parseFloat(this.gcThumbsLi.css("margin-bottom")),this.gcThumbsUl.animate({top:-o*s+"px"},this.config.speed)),t.proxy(function(){this.isAnimating=!1,this.setupSlider()},this).call()}},mousemoveHandler:function(t){if(void 0!==t)if(1==this.isTouchMove){if(1==t.originalEvent.touches.length){var e=t.originalEvent.touches[0];this.currentMousePos.x=e.pageX,this.currentMousePos.y=e.pageY}}else this.currentMousePos.x=t.pageX,this.currentMousePos.y=t.pageY;-1==this.currentMousePos.x&&-1==this.currentMousePos.y||(this.calcMousePos(this.currentMousePos),(0==this.config.isSlowZoom||1==this.config.isSlowZoom&&null==t)&&this.gcZoomDisplay.css({top:this.newZoom.top,left:this.newZoom.left}),(0==this.config.isSlowLens||1==this.config.isSlowLens&&null==t)&&this.gcLens.css({top:this.newLens.top,left:this.newLens.left}))},mouseenterHandler:function(t,e){if(!1!==this.isMouseEventsOn){if(void 0!==e&&(t=e),void 0!==t)if(!0===this.isTouchMove){if(1==t.originalEvent.touches.length){var i=t.originalEvent.touches[0];this.currentMousePos.x=i.pageX,this.currentMousePos.y=i.pageY}}else this.currentMousePos.x=t.pageX,this.currentMousePos.y=t.pageY;this.calcMousePos(this.currentMousePos),this.currentZoom.top=this.newZoom.top,this.currentZoom.left=this.newZoom.left,this.currentLens.top=this.newLens.top,this.currentLens.left=this.newLens.left,this.gcZoomDisplay.css({top:this.newZoom.top,left:this.newZoom.left}),this.gcLens.css({top:this.newLens.top,left:this.newLens.left}),0==this.zooming&&("inner"==this.config.zoomPosition||1==this.isAutoInnerZooming?this.gcZoom.fadeIn(this.config.speed):(this.gcLens.fadeIn(this.config.speed),this.gcZoom.fadeIn(this.config.speed))),1==this.config.isSlowZoom&&(clearTimeout(this.slowZoomTimer),this.zoomSlowDown()),1==this.config.isSlowLens&&(clearTimeout(this.slowLensTimer),this.lensSlowDown()),this.zooming=!0}},mouseleaveHandler:function(t){if(this.gcLens.stop().hide(),this.gcZoom.stop().fadeOut(this.config.speed),void 0!==t)if(1==this.isTouchMove){if(1==t.originalEvent.touches.length){var e=t.originalEvent.touches[0];this.currentMousePos.x=e.pageX,this.currentMousePos.y=e.pageY}}else this.currentMousePos.x=t.pageX,this.currentMousePos.y=t.pageY;1==this.config.isSlowZoom&&clearTimeout(this.slowZoomTimer),1==this.config.isSlowLens&&clearTimeout(this.slowLensTimer),this.zooming=!1},touchstartDC:function(t){t.preventDefault()},touchmoveDC:function(t){0==this.isTouchMove&&(this.isTouchMove=!0,this.gcDisplayContainer.trigger("mouseenter.glasscase",t)),this.mousemoveHandler(t),t.preventDefault()},touchendDC:function(t){1==this.isTouchMove?(this.mouseleaveHandler(t),this.isTouchMove=!1):this.toggleOverlay(),t.preventDefault()},calcMousePos:function(t){var e=this.gcDisplayContainer.offset(),i=this.currentMousePos.x-e.left,s=this.currentMousePos.y-e.top,o=this.gcDisplayDisplay.outerWidth(),n=this.gcDisplayDisplay.outerHeight(),a=this.gcLens.outerWidth(),c=this.gcLens.outerHeight(),r=s-Math.round(c/2),h=i-Math.round(a/2),l=this.gcImageData[this.current].width/o,g=-r*l,u=-h*l;s-c/2<0&&(r=0,g=0),s+c/2>0+n&&(r=n-c,g=-(this.gcImageData[this.current].height-this.gcZoom.outerHeight())),i-a/2<0&&(h=0,u=0),i+a/2>0+o&&(h=o-a,u=-(this.gcImageData[this.current].width-this.gcZoom.outerWidth())),this.newZoom.left=u,this.newZoom.top=g,this.newLens.left=h,this.newLens.top=r},zoomSlowDown:function(){var t=this,e={left:0,top:0},i={left:0,top:0};e.left=t.newZoom.left-t.currentZoom.left,e.top=t.newZoom.top-t.currentZoom.top,i.left=-e.left/(t.config.speedSlowZoom/100),i.top=-e.top/(t.config.speedSlowZoom/100),t.currentZoom.left=t.currentZoom.left-i.left,t.currentZoom.top=t.currentZoom.top-i.top,e.left<1&&e.left>-1&&(t.currentZoom.left=t.newZoom.left),e.top<1&&e.top>-1&&(t.currentZoom.top=t.newZoom.top),t.gcZoomDisplay.css({top:t.currentZoom.top,left:t.currentZoom.left}),t.slowZoomTimer=setTimeout(function(){t.zoomSlowDown()},25)},lensSlowDown:function(){var t=this,e={left:0,top:0},i={left:0,top:0};e.left=t.newLens.left-t.currentLens.left,e.top=t.newLens.top-t.currentLens.top,i.left=-e.left/(t.config.speedSlowLens/100),i.top=-e.top/(t.config.speedSlowLens/100),t.currentLens.left=t.currentLens.left-i.left,t.currentLens.top=t.currentLens.top-i.top,e.left<1&&e.left>-1&&(t.currentLens.left=t.newLens.left),e.top<1&&e.top>-1&&(t.currentLens.top=t.newLens.top),t.gcLens.css("top",t.currentLens.top),t.gcLens.css("left",t.currentLens.left),t.slowLensTimer=setTimeout(function(){t.lensSlowDown()},25)},setupOverlay:function(){var t=this.gcImageData[this.current].width<=this.gcOverlayArea.outerWidth()&&this.gcImageData[this.current].height<=this.gcOverlayArea.outerHeight();this.gcOverlayDisplay.attr("src",this.gcDisplayDisplay.attr("src")).attr("alt",this.gcDisplayDisplay.attr("alt")),t||1==this.config.isOverlayFullImage?(this.gcOverlayCompress.hide(),this.gcOverlayEnlarge.hide(),this.overlayNatSizes()):(this.gcOverlayCompress.hide(),this.gcOverlayEnlarge.show(),this.gcOverlayArea.removeClass("gc-natsize"),this.overlayFitSizes())},overlayNatSizes:function(){var t=this.gcOverlayContainer.outerHeight(),e=this.gcOverlayContainer.outerWidth();this.gcOverlayGContainer.removeClass("gc-overlay-fit"),this.gcOverlayDisplay.removeClass("gc-overlay-display-center gc-overlay-display-hcenter gc-overlay-display-vcenter"),this.gcImageData[this.current].height<=t&&this.gcImageData[this.current].width<=e?this.gcOverlayDisplay.addClass("gc-overlay-display-center"):(this.gcImageData[this.current].height<=t&&this.gcOverlayDisplay.addClass("gc-overlay-display-vcenter"),this.gcImageData[this.current].width<=e&&this.gcOverlayDisplay.addClass("gc-overlay-display-hcenter"))},overlayFitSizes:function(){this.gcOverlayGContainer.addClass("gc-overlay-fit"),this.gcOverlayDisplay.removeClass("gc-overlay-display-hcenter gc-overlay-display-vcenter").addClass("gc-overlay-display-center")},toggleOverlayImgSize:function(){this.gcOverlayArea.hasClass("gc-natsize")?(this.gcOverlayEnlarge.show(),this.gcOverlayCompress.hide(),this.gcOverlayArea.removeClass("gc-natsize"),this.overlayFitSizes()):(this.gcOverlayArea.addClass("gc-natsize"),this.gcOverlayEnlarge.hide(),this.gcOverlayCompress.show(),this.overlayNatSizes())},toggleOverlay:function(){if(t("body").hasClass("gc-noscroll"))this.fadeOutOverlay();else{if(0==this.config.isOverlayEnabled)return;this.gcOverlayArea.fadeIn(this.config.speed),t("body").addClass("gc-noscroll"),this.setupOverlay()}},fadeOutOverlay:function(){t("body").removeClass("gc-noscroll"),this.gcOverlayArea.fadeOut(this.config.speed)},resizeGC:function(){var t=this;t.element.css({height:"0",width:"0"}),t.setup(),t.gcThumbsImg.each(function(e){t.setupThumbImg(t.gcThumbsLi.eq(e),e),t.removeLoader(t.gcThumbsLi.eq(e)),t.gcThumbsLi.eq(e).find(".gc-li-display-container").removeClass("gc-hide"),t.current==e&&(t.removeLoader(t.gcDisplayArea),t.gcDisplayContainer.removeClass("gc-hide"),t.setupDisplayDisplay(),t.setupLens())}),t.update(),t.config.isOverlayFullImage||t.setupOverlay()},showDAIcons:function(){this.gcTotalThumbsImg>1&&(this.gcDisplayPrevious.show(),this.gcDisplayNext.show()),1==this.config.isDownloadEnabled&&this.gcDisplayDownload.show()},hideDAIcons:function(){this.gcTotalThumbsImg>1&&(this.gcDisplayPrevious.hide(),this.gcDisplayNext.hide()),1==this.config.isDownloadEnabled&&this.gcDisplayDownload.hide()},changeThumbs:function(t){this.current!=t&&(this.old=this.current,this.current=t,this.animateImage())},initEvents:function(){var s=this;!0===s.config.isZoomEnabled&&(s.isMouseEventsOn=!0,s.gcDisplayContainer.on("touchstart.glasscase",t.proxy(s.touchstartDC,s)).on("touchmove.glasscase",t.proxy(s.touchmoveDC,s)).on("touchend.glasscase",t.proxy(s.touchendDC,s)),s.gcDisplayContainer.on("mousemove.glasscase",t.proxy(s.mousemoveHandler,s)).on("mouseenter.glasscase",t.proxy(s.mouseenterHandler,s)).on("mouseenter.glasscase",t.proxy(s.config.mouseEnterDisplayCB,s)).on("mouseleave.glasscase",t.proxy(s.mouseleaveHandler,s)).on("mouseleave.glasscase",t.proxy(s.config.mouseLeaveDisplayCB,s))),1!=s.config.isShowAlwaysIcons&&s.gcDisplayArea.on("mouseenter.glasscaseDA",t.proxy(s.showDAIcons,s)).on("mouseleave.glasscaseDA",t.proxy(s.hideDAIcons,s)).on("mousemove.glasscaseDA",function(t){s.showDAIcons(),clearTimeout(s.mouseTimer),s.mouseTimer=setTimeout(function(){s.hideDAIcons()},s.config.speedHideIcons)}).on("touchmove.glasscaseDA",function(t){s.showDAIcons(),clearTimeout(s.mouseTimer),s.mouseTimer=setTimeout(function(){s.hideDAIcons()},s.config.speedHideIcons),t.preventDefault()}),s.gcDisplayContainer.on("click.glasscase",function(t){s.toggleOverlay()}),s.gcDisplayDownload.on("click.glasscase",function(t){var e=i.createElement("canvas");e.width=s.gcImageData[s.current].width,e.height=s.gcImageData[s.current].height,e.getContext("2d").drawImage(s.gcDisplayDisplay[0],0,0);new Blob;e.toBlob(function(t){saveAs(t,s.gcDisplayDisplay.attr("src").replace(/^.*[\\\/]/,""))},"image/png")}),s.gcDisplayPrevious.on("click.glasscase",function(t){s.previousImage()}),s.gcDisplayNext.on("click.glasscase",function(t){s.nextImage()}),s.gcOverlayPrevious.on("click.glasscase",function(t){s.previousImage()}),s.gcOverlayNext.on("click.glasscase",function(t){s.nextImage()}),s.gcOverlayClose.on("click.glasscase",function(t){s.toggleOverlay()}),s.gcOverlayContainer.on("click.glasscase",function(t){s.toggleOverlay()}),s.gcOverlayDisplay.on("mouseenter.glasscase",function(t){s.gcOverlayContainer.off("click.glasscase")}),s.gcOverlayDisplay.on("mouseleave.glasscase",function(t){s.gcOverlayContainer.on("click.glasscase",function(t){s.toggleOverlay()})}),s.config.isOverlayFullImage||(s.gcOverlayDisplay.on("dblclick.glasscase",function(t){s.toggleOverlayImgSize()}),s.gcOverlayEnlarge.on("click.glasscase",function(t){s.toggleOverlayImgSize()}),s.gcOverlayCompress.on("click.glasscase",function(t){s.toggleOverlayImgSize()})),t(i).on("keydown",function(t){1==s.config.isKeypressEnabled&&(37==t.keyCode&&s.previousImage(),39==t.keyCode&&s.nextImage()),27==t.keyCode&&s.fadeOutOverlay()}),t(e).resize(function(){clearTimeout(s.resizeTimer),s.resizeTimer=setTimeout(function(){s.resizeGC()},100)}),s.gcThumbsLi.on("click.glasscase",function(e){var i=t(this).index();s.changeThumbs(i)}),1==s.config.isHoverShowThumbs&&s.gcThumbsLi.on("mouseenter",function(e){var i=t(this).index();s.changeThumbs(i)}),s.gcThumbsAreaPrevious.on("click.glasscase",function(t){s.slide("false","previous")}),s.gcThumbsAreaNext.on("click.glasscase",function(t){s.slide("false","next")})}},t.fn.glassCase=function(e){this.each(function(){t.data(this,"gcglasscase")||t.data(this,"gcglasscase",new n(t(this),e))})}}(jQuery,window,document);